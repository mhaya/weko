{
  "settings": {
    "number_of_shards": 1,
    "number_of_replicas": 0,
    "analysis": {
      "tokenizer": {
        "ja_tokenizer": {
          "type": "kuromoji_tokenizer",
          "mode": "search"
        },
        "ngram_tokenizer": {
          "type": "nGram",
          "min_gram": 2,
          "max_gram": 3,
          "token_chars": [
            "letter",
            "digit"
          ]
        }
      },
      "analyzer": {
        "ja_analyzer": {
          "tokenizer": "ja_tokenizer",
          "filter": [
            "kuromoji_baseform",
            "kuromoji_part_of_speech",
            "cjk_width",
            "stop",
            "kuromoji_stemmer",
            "lowercase"
          ]
        },
        "ngram_analyzer": {
          "type": "custom",
          "char_filter": [
            "html_strip"
          ],
          "tokenizer": "ngram_tokenizer",
          "filter": [
            "cjk_width",
            "lowercase"
          ]
        },
        "wk_analyzer": {
          "type": "custom",
          "char_filter": [
            "html_strip"
          ],
          "tokenizer": "standard",
          "filter": [
            "standard",
            "lowercase",
            "stop",
            "cjk_width"
          ]
        },
        "paths": {
          "tokenizer": "path_hierarchy"
        }
      }
    }
  },
  "mappings": {
    "item": {
      "_all": {
        "enabled": true,
        "analyzer": "ngram_analyzer"
      },
      "properties": {
        "path": {
          "type": "string",
          "index": "not_analyzed",
          "fields": {
            "tree": {
              "type": "string",
              "analyzer": "paths"
            }
          }
        },
        "item_id": {
          "type": "string",
          "index": "not_analyzed"
        },
        "itemtype": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "publish_status": {
          "type": "string",
          "index": "not_analyzed"
        },
        "_oai": {
          "properties": {
            "id": {
              "type": "string",
              "index": "not_analyzed"
            },
            "sets": {
              "type": "string",
              "index": "not_analyzed"
            },
            "updated": {
              "type": "date"
            }
          }
        },
        "control_number": {
          "type": "string",
          "index": "not_analyzed"
        },
        "BSH": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "DDC": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "NDLC": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "isbn": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "issn": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "LCC": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "LCSH": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "MeSH": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "NAID": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "NCID": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "NDC": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "NDLSH": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "NIIspatial": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_spatial"
          ]
        },
        "NIIsubject": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "NIItemporal": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_temporal"
          ]
        },
        "NIItype": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "UDC": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_sh"
          ]
        },
        "URI": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "alternative": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_title"
          ]
        },
        "contributor": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_contributor"
          ]
        },
        "creator": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_creator"
          ]
        },
        "date": {
          "type": "date",
          "format": "yyyy-MM-dd"
        },
        "dateofgranted": {
          "type": "date",
          "format": "yyyy-MM-dd"
        },
        "dateofissued": {
          "type": "date",
          "format": "yyyy-MM-dd"
        },
        "degreename": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "description": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "doi": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "format": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "fullTextURL": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "grantid": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "grantor": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "ichushi": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "identifier": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "type": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_other"
          ]
        },
        "jtitle": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "language": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "pmid": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "publisher": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_publisher"
          ]
        },
        "rights": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "selfDOI": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_id"
          ]
        },
        "spatial": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_spatial"
          ]
        },
        "subject": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "temporal": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_temporal"
          ]
        },
        "textversion": {
          "type": "string",
          "copy_to": [
            "search_other"
          ]
        },
        "title": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_title"
          ]
        },
        "weko_creator_id": {
          "type": "string",
          "index": "not_analyzed",
          "copy_to": [
            "search_creator",
            "search_publisher",
            "search_contributor"
          ]
        },
        "search_title": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "search_creator": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "search_sh": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "search_publisher": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "search_contributor": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "search_id": {
          "type": "string"
        },
        "search_spatial": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "search_temporal": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "search_other": {
          "type": "string",
          "fields": {
            "ja": {
              "type": "string",
              "analyzer": "ja_analyzer"
            }
          }
        },
        "content": {
          "type": "nested",
          "properties": {
            "file_id": {
              "type": "string",
              "index": "not_analyzed"
            },
            "groups": {
              "type": "string",
              "index": "not_analyzed"
            },
            "file_name": {
              "type": "string",
              "fields": {
                "ja": {
                  "type": "string",
                  "analyzer": "ja_analyzer"
                }
              }
            },
            "display_name": {
              "type": "string",
              "fields": {
                "ja": {
                  "type": "string",
                  "analyzer": "ja_analyzer"
                }
              }
            },
            "mime_type": {
              "type": "string",
              "index": "not_analyzed"
            },
            "license_notation": {
              "type": "string"
            },
            "open_date": {
              "type": "date",
              "format": "yyyy-MM-dd"
            },
            "version_id": {
              "type": "string",
              "index": "no"
            },
            "file": {
              "type": "attachment",
              "fields": {
                "content": {
                  "type": "string",
                  "term_vector": "with_positions_offsets",
                  "store": true,
                  "fields": {
                    "ja": {
                      "type": "string",
                      "term_vector": "with_positions_offsets",
                      "store": "yes",
                      "analyzer": "ja_analyzer"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "dynamic_templates": [
        {
          "string": {
            "match_mapping_type": "string",
            "mapping": {
              "type": "string",
              "index": "no"
            }
          }
        },
        {
          "boolean": {
            "match_mapping_type": "boolean",
            "mapping": {
              "type": "boolean",
              "index": "not_analyzed"
            }
          }
        },
        {
          "object": {
            "match_mapping_type": "object",
            "mapping": {
              "type": "object",
              "index": "no"
            }
          }
        }
      ]
    }
  }
}
